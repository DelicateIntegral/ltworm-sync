const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DbGBQxOd.js","./Dhc0HWej.js","./Be1fzYNM.js","./DEES2_7q.js","./entry.BjTQhwXm.css","./DJt7M_5n.js","./ByGRW8N_.js","./CA5aLBJS.js","./Zh9U_cYO.js","./B84Qp10k.js","./CRF9Kq3B.js","./DmfvTtO6.js","./CYijVCY0.js","./jPbmp-Am.js","./C55ERRCa.js","./DGEOgZpe.js","./CfaNR13r.js","./Bq671gMf.js","./CSADgtts.js","./UH_cZk33.js","./g2hQxUwo.js","./editor.CpBG1zGC.css","./XSjfLWzy.js","./C9y8cii1.js","./D6zrVgys.js","./axN_gOeI.js","./DeWZnqcQ.js","./Wqr9i7RY.js","./0cVxvwXm.js","./CbcFdRgr.js","./nrGGw7OG.js","./F9OgjhfE.js","./BxZJO01r.js","./CKeoNHmq.js","./B0eGUehL.js","./Dcto6AXF.js","./2YUoSFiK.js","./BMopskjG.js","./BdcrmPZ0.js","./CF8XrXDz.js","./_YrWI9w-.js","./DBnSOLgI.js","./DGUWaFOr.js","./BbfqVTRd.js","./2OVaRDkT.js","./VafpNnN3.js","./Qz3cKtAb.js","./C3FUVUWS.js","./D2N5wx0F.js","./BGnhGhIJ.js","./uhkJDlB0.js","./Lc9WjBha.js","./dcMKVkgL.js","./BUCQEd1F.js","./D2LB3CMC.js","./YpQZz6cT.js","./CcGAR8Qk.js","./OGljjuRF.js","./CjXnXDWP.js","./Cn6cEGdY.js","./CWlPIDxY.js","./Cxe9UohX.js","./D9NCZchG.js","./ylOG_TQU.js","./B096Nr7L.js","./DkEi-_VM.js","./bH9uio5G.js","./C5iwoaGf.js"])))=>i.map(i=>d[i]);
import T from"./Dhc0HWej.js";import{u as k}from"./CYijVCY0.js";import{H as M,l as X,u as I,W as Y,w as Z,B as N,y as q,s as J}from"./C9y8cii1.js";import{f as z,h as Q}from"./g2hQxUwo.js";import{j as x,d as B,t as _,v as u,Z as D,$ as H,z as m,R as c,r as P,N as V,a1 as A,A as w,x as a,Y as W,X as $,W as ee,y as j,_ as oe,ad as C,ae as E,a2 as te,aO as re,bs as se}from"./DEES2_7q.js";import ne from"./C55ERRCa.js";import ce from"./C3FUVUWS.js";import ae from"./D2N5wx0F.js";import{a as F,O as v,u as ie}from"./XSjfLWzy.js";import{t as O,l as le,a as de}from"./dcMKVkgL.js";import pe from"./Dcto6AXF.js";import ue from"./UTv72W-f.js";import me from"./DeozTr4Y.js";import fe from"./xyPPiKXR.js";import _e from"./Ds5hscLq.js";import be from"./uwrOh0fH.js";import"./Be1fzYNM.js";import"./DJt7M_5n.js";import"./ByGRW8N_.js";import"./CA5aLBJS.js";import"./Zh9U_cYO.js";import"./B84Qp10k.js";import"./CRF9Kq3B.js";import"./DmfvTtO6.js";import"./jPbmp-Am.js";import"./DGEOgZpe.js";import"./CfaNR13r.js";import"./Bq671gMf.js";import"./CSADgtts.js";import"./UH_cZk33.js";import"./2YUoSFiK.js";import"./BMopskjG.js";import"./DTEaS1qy.js";import"./DBnSOLgI.js";import"./BbfqVTRd.js";import"./e-Y3xTfP.js";var ye=z(function(t){return M(t.length,function(){var d=0,n=arguments[0],l=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var o=n.apply(this,Q(arguments,[d,l]));return d+=1,o},t.apply(this,i)})}),U=z(function(r){return X(-1,r)});function he(){const r=k();function t(n){switch(n.type){case"edit-page":return[{label:"New Row",icon:"iconify solar--add-circle-line-duotone",severity:"secondary"}];case"edit-row":return[{label:"New Choice",icon:"iconify solar--add-circle-line-duotone",severity:"secondary"}];case"edit-choice":return[{label:"New Addon",icon:"iconify solar--add-circle-line-duotone",severity:"secondary"}];default:return[]}}return{actions:x(()=>{switch(r.root){case"content":if(I(r.stack))return[{label:"New Page",icon:"iconify solar--add-circle-line-duotone",severity:"secondary"}];{const n=U(r.stack);return t(n)}default:return[]}})}}const ve={class:"pe-4"},we=B({__name:"ScreenActions",setup(r){const{actions:t}=he();return(d,n)=>{const l=T;return u(),_("div",ve,[(u(!0),_(D,null,H(c(t),(i,o)=>(u(),_("div",{key:o},[m(l,{label:i.label,icon:i.icon,severity:i.severity,size:"small"},null,8,["label","icon","severity"])]))),128))])}}}),ge={class:"flex flex-col gap-2 md:w-[40rem]"},xe={class:"flex flex-col h-[20rem] overflow-y-auto bg-surface-800 rounded-md"},ke={key:0,class:"flex flex-row h-full justify-center items-center"},Se={key:1},je=["onClick"],Ie={class:"grow group-hover:underline"},$e={class:"flex flex-row gap-1"},Be={class:"text-surface-500 text-sm italic"},Ce={class:"text-surface-500 text-sm"},Ee=B({__name:"OmniBar",setup(r){const t=k(),d=F(),n=P(),l=P(""),i=Y(l,200);V([n,()=>t.showOmniBar],([s,e])=>{e&&s&&(l.value="",s.$el.focus())});const o={objects:[],objectsCount:0,styles:[],stylesCount:0,media:[],mediaCount:0},f=x(()=>{const s=O(i.value);if(I(s))return o;const e=Z(o);for(const p of d.objects.values())(N(s,O(p.name))||N(s,O(p.id)))&&e.objects.push({objectId:p.id,name:p.name,type:p.type});return e.objectsCount=le(e.objects),e});function h(s){const e=d.getParents(s),p=[];for(const g of e){const y=d.objects.get(g);switch(y.type){case v.page:p.push({type:"edit-page",pageId:y.id});break;case v.row:p.push({type:"edit-row",rowId:y.id});break;case v.choice:p.push({type:"edit-choice",choiceId:y.id});break;case v.addon:p.push({type:"edit-addon",addonId:y.id});break}}t.root="content",t.stack=p,t.showOmniBar=!1}return(s,e)=>{const p=ae,g=ce,y=ne;return u(),A(y,{visible:c(t).showOmniBar,"onUpdate:visible":e[1]||(e[1]=b=>c(t).showOmniBar=b),"dismissable-mask":"","pt:root:class":"!border-0 !bg-transparent","pt:mask:class":"bg-surface-900/60 backdrop-blur-sm"},{container:w(({})=>[a("div",ge,[m(g,null,{default:w(()=>[m(c(pe),{ref_key:"searchBar",ref:n,modelValue:c(l),"onUpdate:modelValue":e[0]||(e[0]=b=>W(l)?l.value=b:null),autofocus:"true",placeholder:"Search in project ..."},null,8,["modelValue"]),m(p,null,{default:w(()=>e[2]||(e[2]=[a("i",{class:"iconify solar--magnifer-line-duotone"},null,-1)])),_:1})]),_:1}),a("div",xe,[c(I)(c(f).objects)?(u(),_("div",ke,e[3]||(e[3]=[a("div",{class:"text-stone-500"},"Type to start searching ...",-1)]))):$("",!0),c(q)(c(f).objects)?(u(),_("div",Se,[e[4]||(e[4]=a("h2",{class:"text-stone-500 font-bold px-4 py-2 border-b border-surface-700"}," Objects ",-1)),(u(!0),_(D,null,H(c(f).objects,(b,S)=>(u(),_("div",{key:S,class:ee(["px-4 py-2 flex flex-row group cursor-pointer items-center",{"border-t border-surface-700":S!==0}]),onClick:R=>h(b.objectId)},[a("div",Ie,j(b.name),1),a("div",$e,[a("div",Be,j(b.type),1),a("div",Ce,j(b.objectId),1)])],10,je))),128))])):$("",!0)])])]),_:1},8,["visible"])}}}),Oe={};function Pe(r,t){return u(),_("div",null,"Nothing Here")}const L=oe(Oe,[["render",Pe]]),Ve=ye(J),Ae=C(()=>E(()=>import("./DbGBQxOd.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43]),import.meta.url)),De=C(()=>E(()=>import("./2OVaRDkT.js"),__vite__mapDeps([44,1,2,3,4,5,6,7,8,9,10,11,45,46,15,28,17,38,18,47,48,40,41,42,35,36,37,49,12,13,14,16,19,20,21,50,22,23,51,24,25,26,27,29,30,31,32,33,34,39,43,52]),import.meta.url)),Re=C(()=>E(()=>import("./BUCQEd1F.js"),__vite__mapDeps([53,46,3,4,15,28,17,10,11,7,38,18,9,54,27,2,29,6,30,31,32,5,16,33,34,35,36,37,39,55,56,1,8,57,22,12,13,14,19,20,21,23,58,52,59,60,61,62,63,45,47,48,40,41,42,49,50,51,24,25,26,43,64,65]),import.meta.url)),Ne=C(()=>E(()=>import("./bH9uio5G.js"),__vite__mapDeps([66,45,1,2,3,4,5,6,7,8,9,10,11,64,37,54,35,36,60,61,62,15,63,16,17,18,19,22,12,13,14,20,21,23,46,28,38,47,48,40,41,42,49,50,51,24,25,26,27,29,30,31,32,33,34,39,43,65,59,67,52]),import.meta.url));function G(){const r=k(),t=F();function d(o){switch(o.type){case"edit-page":return{component:De,props:{pageId:o.pageId}};case"edit-row":return{component:Re,props:{rowId:o.rowId}};case"edit-choice":return{component:Ne,props:{choiceId:o.choiceId}};default:return{component:L,props:{}}}}const n=x(()=>{switch(r.root){case"content":if(I(r.stack))return{component:Ae};{const o=U(r.stack);return d(o)}default:return{component:L,props:{}}}}),l=x(()=>({root:!0,label:"Pages",icon:"iconify solar--documents-line-duotone",command:()=>r.clearStack()})),i=x(()=>Ve((o,f)=>{switch(o.type){case"edit-page":return{label:t.get(o.pageId,v.page).name,icon:"iconify solar--document-text-line-duotone",command:()=>r.popStack(f)};case"edit-row":return{label:t.get(o.rowId,v.row).name,icon:"iconify solar--list-line-duotone",command:()=>r.popStack(f)};case"edit-choice":return{label:t.get(o.choiceId,v.choice).name,icon:"iconify solar--box-minimalistic-line-duotone",command:()=>r.popStack(f)};default:return{label:"???"}}},r.stack??[]));return{screen:n,bcHome:l,bcStack:i}}const Le={class:"flex flex-row items-center ps-2"},Te=B({__name:"EditorBreadcrumbs",setup(r){const{bcHome:t,bcStack:d}=G(),n=k();function l(){n.popStack()}return(i,o)=>{const f=T,h=be;return u(),_("div",Le,[m(f,{variant:"text",severity:"secondary",label:"Back",icon:"iconify solar--alt-arrow-left-line-duotone",disabled:c(d).length===0,onClick:o[0]||(o[0]=s=>l())},null,8,["disabled"]),o[1]||(o[1]=a("div",{class:"h-1/2 mx-2 border-l border-surface-700"},null,-1)),m(h,{home:c(t),model:c(d),dt:{background:"none"}},null,8,["home","model"])])}}}),ze={class:"flex flex-col p-2 gap-2 h-full w-full"},He={class:"flex flex-row items-center"},We={class:"flex flex-row items-center"},Fe={class:"text-amber-500 text-xl"},Ue={key:0},Ge={class:"flex flex-row justify-between"},Ke={class:"flex flex-row items-center"},Eo=B({__name:"ProjectEditor",setup(r){const{unloadProject:t,saveProject:d}=ie(),n=k(),{screen:l}=G(),i=P(!1),o=[{label:"Project",icon:"iconify solar--file-bold-duotone",items:[{label:"Save",icon:"iconify solar--file-download-bold-duotone",command:async()=>{await d()}},{label:"Close",icon:"iconify solar--file-remove-bold-duotone",command:()=>{t()}}]}],{ctrl_k:f,esc:h}=de({passive:!1,onEventFired(s){s.ctrlKey&&s.key==="k"&&s.type==="keydown"&&s.preventDefault()}});return V(f,s=>{s&&!n.showOmniBar&&(n.showOmniBar=!0)}),V(h,s=>{s&&n.showOmniBar&&(n.showOmniBar=!1)}),(s,e)=>{const p=_e,g=fe,y=me,b=we,S=ue,R=Ee;return u(),_(D,null,[a("div",ze,[m(y,{model:o,class:"rounded"},{end:w(()=>[a("div",He,[a("div",We,[e[1]||(e[1]=a("label",{class:"me-2"},"Preview",-1)),m(p,{modelValue:c(i),"onUpdate:modelValue":e[0]||(e[0]=K=>W(i)?i.value=K:null),size:"small",variant:"outlined"},null,8,["modelValue"])]),m(g,{layout:"vertical"}),a("h1",Fe,j(c(n).project.name),1)])]),_:1}),c(i)?(u(),_("div",Ue,"PREVIEW")):$("",!0),c(i)?$("",!0):(u(),A(S,{key:1,class:"grow rounded",dt:{body:{padding:"1rem"}}},{header:w(()=>[a("div",Ge,[m(Te),a("div",Ke,[m(b)])]),e[2]||(e[2]=a("div",{class:"border-t border-surface-700"},null,-1))]),content:w(()=>[(u(),A(te(c(l).component),re(se(c(l).props??{})),null,16))]),_:1}))]),m(R)],64)}}});export{Eo as default};
