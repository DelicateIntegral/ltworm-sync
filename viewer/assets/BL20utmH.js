import B from"./DY_ndVam.js";import{_ as L}from"./Ca1ZJ0Mr.js";import M from"./BpPi-e37.js";import D from"./_ksNVaAu.js";import G from"./Xtq-wULz.js";import E from"./dihDAuXl.js";import T from"./D9EkfdnU.js";import{u as U}from"./DyERBD_G.js";import{u as O}from"./D194ElH-.js";import{a as R,O as k}from"./BlpBfttG.js";import{J as W,W as F,u as J,x as Y,B as Z}from"./D9OSQLCx.js";import{d as j,r as V,t as I,v as x,z as e,A as i,R as u,x as t,Y as h,j as S,y as P,B as N,Z as q,$ as H,a1 as K,W as Q}from"./BJ_rnWsM.js";import X from"./BqJIU7Ew.js";import oo from"./CqEMZOzT.js";import{t as z}from"./CR-WaNls.js";import"./Be1fzYNM.js";import"./BSBFk0M8.js";import"./Dka6TfxS.js";import"./A8AViyYJ.js";import"./Djkz4vTg.js";import"./DsvhQ1oI.js";import"./CxD9S56h.js";import"./DmfvTtO6.js";import"./DGEOgZpe.js";import"./DPyv4_Uw.js";import"./D4Xhntm_.js";import"./DXy7lZUH.js";import"./D8X2o2Df.js";import"./B0A3ZzGz.js";import"./CXnKt9Q9.js";import"./F_-wkkPL.js";import"./BlL-BYkC.js";import"./DghziP3n.js";import"./CB_-UHXr.js";import"./Cp4vDl1y.js";import"./COhxDi_g.js";import"./g2hQxUwo.js";import"./DqL8I6C4.js";import"./DY6_7yHX.js";import"./B-w1kQRX.js";import"./DPdNc9Kj.js";import"./BFxxIRX1.js";import"./COrkRFGn.js";import"./DUlYJomC.js";import"./C0uA59Gd.js";import"./I46yRNYD.js";import"./DBse-CuE.js";import"./C2I2BbLZ.js";import"./BeRUHc8L.js";const eo={class:"flex flex-row gap-2"},to={class:"flex flex-col gap-2"},ro=j({__name:"RowMove",props:{rowId:{},index:{}},setup(_){U(),R();const{moveRelative:l,moveAbsolute:c}=O(),a=_,d=V(),r=V(0);function v(p){r.value=a.index,d.value.toggle(p)}function n(){l(a.rowId,-1)}function o(){l(a.rowId,1)}function f(){c(a.rowId,r.value),d.value.hide()}return(p,s)=>{const g=L,y=B,b=T,m=E,C=G,w=D,A=M;return x(),I("div",eo,[e(b,null,{default:i(()=>[e(g,{outlined:"",severity:"secondary",icon:"iconify solar--arrow-up-line-duotone",onClick:s[0]||(s[0]=$=>n())}),e(y,{outlined:"",severity:"secondary",label:u(W)(p.index),"pt:root:class":"leading-none p-0 w-[2.5rem] h-[2.0rem]","pt:icon:class":"leading-none text-[1.5rem] w-[1.5rem] h-[1.5rem]",onClick:v},null,8,["label"]),e(g,{outlined:"",severity:"secondary",icon:"iconify solar--arrow-down-line-duotone",onClick:s[1]||(s[1]=$=>o())})]),_:1}),e(A,{ref_key:"indexShiftPopover",ref:d},{default:i(()=>[t("div",to,[s[4]||(s[4]=t("span",{class:"text-surface-500 text-sm"},"Move to position",-1)),e(w,null,{default:i(()=>[e(m,{modelValue:u(r),"onUpdate:modelValue":s[2]||(s[2]=$=>h(r)?r.value=$:null),"show-buttons":""},null,8,["modelValue"]),e(C,null,{default:i(()=>[e(y,{severity:"secondary",icon:"iconify solar--round-double-alt-arrow-right-line-duotone",onClick:s[3]||(s[3]=$=>f())})]),_:1})]),_:1})])]),_:1},512)])}}}),no={class:"flex flex-row gap-3 py-2 items-start"},so={class:"flex flex-col gap-2 grow justify-center"},io={class:"text-primary font-bold grow group-hover:underline"},lo={class:"text-surface-500 font-mono text-sm"},ao={class:"flex flex-row gap-2"},po=j({__name:"RowCard",props:{rowId:{},index:{}},setup(_){const l=U(),c=R(),a=_,d=S(()=>c.get(a.rowId,k.row));function r(){l.pushScreen({type:"edit-row",rowId:d.value.id})}return(v,n)=>{const o=B;return x(),I("div",no,[e(ro,{"row-id":v.rowId,index:v.index},null,8,["row-id","index"]),t("div",so,[t("div",{class:"flex flex-row gap-2 items-center cursor-pointer group",onClick:n[0]||(n[0]=f=>r())},[t("div",io,P(u(d).name),1),t("div",lo,P(u(d).id),1)])]),t("div",ao,[e(o,{variant:"outlined",size:"small",severity:"secondary"},{default:i(()=>n[1]||(n[1]=[N(" Clone ")])),_:1}),e(o,{variant:"outlined",size:"small",severity:"danger"},{default:i(()=>n[2]||(n[2]=[N(" Delete ")])),_:1})])])}}}),mo={class:"flex flex-col gap-2"},uo={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},co={class:"grid grid-cols-form gap-2 items-center"},fo={class:"flex flex-row justify-between items-center"},vo={class:"flex flex-col"},me=j({__name:"PageScreen",props:{pageId:{}},setup(_){const l=R(),c=_,a=S(()=>l.get(c.pageId,k.page)),d=S(()=>{const n=v.value;if(J(n))return l.getChildren(c.pageId);{const o=z(n);return Y(({id:f})=>{const p=l.get(f,k.row);return Z(o,z(p.name))},l.getChildren(c.pageId))}}),r=V(""),v=F(r,100);return(n,o)=>{const f=oo,p=G,s=B,g=D,y=po,b=X;return x(),I("div",mo,[t("div",uo,[t("div",co,[o[3]||(o[3]=t("label",{class:"font-bold",for:"pageName"},"Name",-1)),e(f,{modelValue:u(a).name,"onUpdate:modelValue":o[0]||(o[0]=m=>u(a).name=m),fluid:""},null,8,["modelValue"])]),o[4]||(o[4]=t("div",null,"Layout",-1)),o[5]||(o[5]=t("div",null,"Style",-1))]),e(b,{value:u(d),"data-key":"id",dt:{header:{padding:"1rem 0"}}},{header:i(()=>[t("div",fo,[o[7]||(o[7]=t("h3",{class:"text-xl font-bold text-primary"},"Rows",-1)),e(g,{class:"w-auto min-w-8"},{default:i(()=>[e(p,null,{default:i(()=>o[6]||(o[6]=[t("i",{class:"iconify solar--filter-line-duotone"},null,-1)])),_:1}),e(f,{modelValue:u(r),"onUpdate:modelValue":o[1]||(o[1]=m=>h(r)?r.value=m:null),size:"small"},null,8,["modelValue"]),e(p,null,{default:i(()=>[e(s,{icon:"iconify solar--close-circle-line-duotone",severity:"secondary",onClick:o[2]||(o[2]=m=>r.value="")})]),_:1})]),_:1})])]),list:i(({items:m})=>[t("div",vo,[(x(!0),I(q,null,H(m,(C,w)=>(x(),K(y,{key:w,"row-id":C.id,index:w,class:Q({"border-t border-surface-200 dark:border-surface-700":w!==0})},null,8,["row-id","index","class"]))),128))])]),_:1},8,["value"])])}}});export{me as default};
