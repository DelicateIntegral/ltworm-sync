const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BEl_5NeC.js","./PC1UJA31.js","./D8VsazhW.js","./BZFDgyJD.js","./BZwby5eq.js","./entry.BjTQhwXm.css","./DIlH2vc0.js","./DmfvTtO6.js","./D1iuRb7o.js","./Be1fzYNM.js","./DGEOgZpe.js","./DRn55na0.js","./4MKSu4WY.js","./CcoDSO_5.js","./-it0ZQ2l.js","./Dj9yx6eE.js","./CuFMmjby.js","./Bo6d7Niz.js","./DRVuadwS.js","./DansZHxp.js","./O7tkZITQ.js","./5tQr4mvd.js","./g2hQxUwo.js","./editor.CpBG1zGC.css","./D0Of4s1j.js","./E9EMitxi.js","./CwyzdGUS.js","./CiPIFWzR.js","./DGUuA0O9.js"])))=>i.map(i=>d[i]);
import{_ as F}from"./DGUuA0O9.js";import B from"./-it0ZQ2l.js";import Z from"./D_2z04Yp.js";import L from"./BvRdvYgF.js";import z from"./Be9sZJ3c.js";import G from"./BQu4lDqg.js";import{_ as M}from"./CRQbw9rA.js";import{a as k,O as C,b as K}from"./D8VsazhW.js";import{i as H,J as Q,x as O,s as ee,W as oe,u as te,B as ne}from"./D0Of4s1j.js";import{d as V,j as $,t as y,R as n,v as a,x as e,a1 as b,X as I,z as t,A as m,r as D,Y as q,B as T,y as j,ad as re,ae as ie,Z as U,$ as J,av as se,a2 as le}from"./BZwby5eq.js";import de from"./A4MGJwPs.js";import W from"./Bh_SaCKA.js";import X from"./BWEY1uL0.js";import ae from"./CkiPdkOx.js";import ce from"./OlxOQEbR.js";import{u as Y}from"./BZFDgyJD.js";import{u as me}from"./DWSDeCTK.js";import pe from"./DbXh7N_d.js";import ue from"./DfAQArPo.js";import{i as fe}from"./CiPIFWzR.js";import{v as _e}from"./DsE8hO0u.js";import{t as E}from"./CwyzdGUS.js";import"./Be1fzYNM.js";import"./Dj9yx6eE.js";import"./4MKSu4WY.js";import"./CcoDSO_5.js";import"./CuFMmjby.js";import"./Bo6d7Niz.js";import"./DRVuadwS.js";import"./DmfvTtO6.js";import"./OozJoKSM.js";import"./D26rcb5C.js";import"./Cbn_V_XH.js";import"./DGEOgZpe.js";import"./ctmgsGvf.js";import"./DRn55na0.js";import"./DansZHxp.js";import"./O7tkZITQ.js";import"./5tQr4mvd.js";import"./g2hQxUwo.js";import"./CCuWngGr.js";import"./DBvVJ12i.js";import"./5os1z41E.js";import"./CaMtxyfY.js";import"./DIlH2vc0.js";import"./D1iuRb7o.js";import"./C9UyoUQq.js";import"./C_z6q7an.js";import"./heK1ctjh.js";import"./BklLU5xJ.js";import"./Cj8KXOdI.js";import"./BgEszZzB.js";import"./C0XwZ0WI.js";import"./Dl-FfnPv.js";import"./B6wuaAbC.js";import"./CBqxw3RV.js";import"./D-lL7Gxo.js";import"./CO4xtEgh.js";const ve={key:0,class:"grid grid-cols-3 gap-2"},xe={class:"flex flex-col gap-2 items-stretch justify-center grow"},he={class:"flex flex-row justify-stretch grow relative group rounded overflow-clip"},ge={class:"absolute bg-slate-500/50 top-0 left-0 right-0 bottom-0 opacity-0 group-hover:opacity-100 duration-300 flex flex-row items-center justify-center cursor-pointer"},ye={class:"flex flex-col gap-2 col-span-2"},be={key:1,class:"flex flex-row justify-center items-center min-h-[10rem]"},we=V({__name:"ChoiceHeaderForm",props:{choiceId:{}},setup(g){const p=k(),f=g,s=$(()=>p.get(f.choiceId,C.choice));return(l,i)=>{var x;const v=G,r=F,o=z,c=L,u=Z,d=B;return n(s).header?(a(),y("div",ve,[e("div",xe,[e("div",he,[n(H)((x=n(s).header)==null?void 0:x.image)?(a(),b(v,{key:0,animation:"none",class:"grow",height:"auto"})):I("",!0),n(s).header.image?(a(),b(M,{key:1,"media-id":n(s).header.image,class:"grow border border-surface-700"},null,8,["media-id"])):I("",!0),e("div",ge,[i[2]||(i[2]=e("i",{class:"iconify solar--pen-line-duotone"},null,-1)),n(s).header.image?(a(),b(r,{key:0,outlined:"",severity:"danger",icon:"iconify solar--trash-bin-trash-line-duotone",class:"absolute right-[0.5rem] bottom-[0.5rem]"})):I("",!0)])])]),e("div",ye,[t(c,null,{default:m(()=>[t(o,{modelValue:n(s).header.title,"onUpdate:modelValue":i[0]||(i[0]=_=>n(s).header.title=_)},null,8,["modelValue"]),i[3]||(i[3]=e("label",null,"Title",-1))]),_:1}),t(u,{modelValue:n(s).header.text,"onUpdate:modelValue":i[1]||(i[1]=_=>n(s).header.text=_),"editor-style":"height: 12rem"},null,8,["modelValue"])])])):(a(),y("div",be,[t(d,{variant:"outlined",severity:"secondary",icon:"iconify iconify solar--add-circle-line-duotone",label:"Add Header"})]))}}}),$e={class:"flex flex-row gap-2"},Ie={class:"flex flex-col gap-2"},Ce=V({__name:"AddonMove",props:{addonId:{},index:{}},setup(g){Y(),k();const{moveRelative:p,moveAbsolute:f}=me(),s=g,l=D(),i=D(0);function v(u){i.value=s.index,l.value.toggle(u)}function r(){p(s.addonId,-1)}function o(){p(s.addonId,1)}function c(){f(s.addonId,i.value),l.value.hide()}return(u,d)=>{const x=F,_=B,S=ce,A=ae,N=X,P=W,h=de;return a(),y("div",$e,[t(S,null,{default:m(()=>[t(x,{outlined:"",severity:"secondary",icon:"iconify solar--arrow-left-line-duotone",onClick:d[0]||(d[0]=w=>r())}),t(_,{outlined:"",severity:"secondary",label:n(Q)(u.index),"pt:root:class":"leading-none p-0 w-[2.5rem] h-[2.0rem]","pt:icon:class":"leading-none text-[1.5rem] w-[1.5rem] h-[1.5rem]",onClick:v},null,8,["label"]),t(x,{outlined:"",severity:"secondary",icon:"iconify solar--arrow-right-line-duotone",onClick:d[1]||(d[1]=w=>o())})]),_:1}),t(h,{ref_key:"indexShiftPopover",ref:l},{default:m(()=>[e("div",Ie,[d[4]||(d[4]=e("span",{class:"text-surface-500 text-sm"},"Move to position",-1)),t(P,null,{default:m(()=>[t(A,{modelValue:n(i),"onUpdate:modelValue":d[2]||(d[2]=w=>q(i)?i.value=w:null),"show-buttons":""},null,8,["modelValue"]),t(N,null,{default:m(()=>[t(_,{severity:"secondary",icon:"iconify solar--round-double-alt-arrow-right-line-duotone",onClick:d[3]||(d[3]=w=>c())})]),_:1})]),_:1})])]),_:1},512)])}}}),ke={class:"flex flex-col gap-2 rounded border border-surface-700 p-3"},Ve={class:"flex flex-row justify-between"},Se={class:"flex flex-row gap-2"},je={class:"text-primary text-xl font-bold grow group-hover:underline"},Be={class:"text-surface-500 text-sm"},Ae={class:"flex flex-row gap-2"},Ne={class:"flex flex-col gap-2"},Pe={class:"font-bold"},De={class:"max-h-[10rem] overflow-hidden text-ellipsis"},Ue=V({__name:"AddonCard",props:{addonId:{},index:{}},setup(g){const p=Y(),f=k(),s=g,l=$(()=>f.get(s.addonId,C.addon));function i(){p.pushScreen({type:"edit-addon",choiceId:l.value.id})}return(v,r)=>{var u,d,x,_;const o=B,c=G;return a(),y("div",ke,[e("div",Ve,[t(Ce,{"addon-id":v.addonId,index:v.index},null,8,["addon-id","index"]),e("div",Se,[t(o,{variant:"outlined",size:"small",severity:"secondary"},{default:m(()=>r[1]||(r[1]=[T(" Clone ")])),_:1}),t(o,{variant:"outlined",size:"small",severity:"danger"},{default:m(()=>r[2]||(r[2]=[T(" Delete ")])),_:1})])]),e("div",{class:"flex flex-row items-center cursor-pointer group",onClick:r[0]||(r[0]=S=>i())},[e("div",je,j(n(l).name),1),e("div",Be,j(n(l).id),1)]),e("div",Ae,[e("div",null,[n(H)((u=n(l).header)==null?void 0:u.image)?(a(),b(c,{key:0,width:"5rem",height:"3rem",animation:"none"})):I("",!0),(d=n(l).header)!=null&&d.image?(a(),b(M,{key:1,"media-id":n(l).header.image,width:"5rem"},null,8,["media-id"])):I("",!0)]),e("div",Ne,[e("div",Pe,j((x=n(l).header)==null?void 0:x.title),1),e("div",De,j((_=n(l).header)==null?void 0:_.text),1)])])])}}}),Re={class:"grid grid-cols-2 auto-rows-auto"},Te=V({__name:"ChoiceComponentsForm",props:{choiceId:{}},setup(g){const p=k(),f=g,s=$(()=>p.get(f.choiceId,C.choice)),l=$(()=>O(r=>fe(r),ee(r=>i(r),_e(s.value.components))));function i(r){switch(console.log("dispatchComponent",r),r.type){case K.Requirements:return{key:r.type,component:v,props:{choiceId:f.choiceId}};default:return}}const v=re(()=>ie(()=>import("./BEl_5NeC.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url));return(r,o)=>(a(),y("div",Re,[(a(!0),y(U,null,J(n(l),c=>(a(),y("div",{key:c.key},[(a(),b(le(c.component),se({ref_for:!0},c.props??{}),null,16))]))),128))]))}}),Ee={class:"flex flex-col gap-2 items-stretch"},Fe={class:"flex flex-row gap-2"},Le={class:"flex flex-col"},ze={class:"flex flex-col"},Ge={class:"flex flex-row justify-between items-center"},Me={class:"grid grid-cols-3 gap-2"},Xo=V({__name:"ChoiceScreen",props:{choiceId:{}},setup(g){const p=k(),f=g,s=$(()=>p.get(f.choiceId,C.choice)),l=$(()=>{const r=v.value;if(te(r))return p.getChildren(f.choiceId);{const o=E(r);return O(({id:c})=>{const u=p.get(c,C.addon);return ne(o,E(u.name))},p.getChildren(f.choiceId))}}),i=D(""),v=oe(i,100);return(r,o)=>{const c=z,u=L,d=we,x=ue,_=X,S=B,A=W,N=Ue,P=pe;return a(),y(U,null,[t(x,null,{default:m(()=>[e("div",Ee,[e("div",Fe,[t(u,{class:"grow"},{default:m(()=>[t(c,{modelValue:n(s).name,"onUpdate:modelValue":o[0]||(o[0]=h=>n(s).name=h),modelModifiers:{lazy:!0}},null,8,["modelValue"]),o[4]||(o[4]=e("label",null,"Name",-1))]),_:1}),t(u,null,{default:m(()=>[t(c,{modelValue:n(s).id,"onUpdate:modelValue":o[1]||(o[1]=h=>n(s).id=h),disabled:""},null,8,["modelValue"]),o[5]||(o[5]=e("label",null,"ID",-1))]),_:1})]),e("div",Le,[o[6]||(o[6]=e("div",{class:"border-b border-surface-700 pb-1 mb-2"},[e("div",{class:"text-xl font-bold text-primary"},"Header")],-1)),t(d,{"choice-id":r.choiceId},null,8,["choice-id"])]),e("div",ze,[o[7]||(o[7]=e("div",{class:"border-b border-surface-700 pb-1 mb-2"},[e("div",{class:"text-xl font-bold text-primary"},"Components")],-1)),t(Te,{"choice-id":r.choiceId},null,8,["choice-id"])])])]),_:1}),t(P,{value:n(l),"data-key":"id",dt:{header:{padding:"1rem 0"},content:{padding:"1rem 0"}}},{header:m(()=>[e("div",Ge,[o[9]||(o[9]=e("h3",{class:"text-xl font-bold text-primary"},"Addons",-1)),t(A,{class:"w-auto min-w-8"},{default:m(()=>[t(_,null,{default:m(()=>o[8]||(o[8]=[e("i",{class:"iconify solar--filter-line-duotone"},null,-1)])),_:1}),t(c,{modelValue:n(i),"onUpdate:modelValue":o[2]||(o[2]=h=>q(i)?i.value=h:null),size:"small"},null,8,["modelValue"]),t(_,null,{default:m(()=>[t(S,{icon:"iconify solar--close-circle-line-duotone",severity:"secondary",onClick:o[3]||(o[3]=h=>i.value="")})]),_:1})]),_:1})])]),list:m(({items:h})=>[e("div",Me,[(a(!0),y(U,null,J(h,(w,R)=>(a(),b(N,{key:R,"addon-id":w.id,index:R},null,8,["addon-id","index"]))),128))])]),_:1},8,["value"])],64)}}});export{Xo as default};
